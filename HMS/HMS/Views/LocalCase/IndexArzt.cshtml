@model IEnumerable<HMS.Models.LocalCase>

@{
    Layout = "~/Views/Shared/_Layout_Arzt.cshtml";
    ViewBag.Title = "Index";
}
    <!--Autor: David Bismor -->
<table>
      <tr>
           <td style="position: absolute; left:auto"><h2>Aktuelle Behandlungspläne..</h2></td>

        @*<td style="position:absolute; right:5%; top:10%">
   <input id="GoCreatePatient" type="button" value="Behandlung hinzufügen" class="btn btn-default" style="width:175px"  
        onclick="@("window.location.href='" + @Url.Action("CreateArzt", "LocalCase") + "'");" />
            </td>*@
</tr>
 </table>
    <br /><br /> <br /> <br />
<table class="table">
    <tr>
        <th>
            @Html.DisplayName("Behandlungsanfang")
        </th>
        <th>
            @Html.DisplayName("Behandlungsende")
        </th>
        <th>
            @Html.DisplayNameFor(model => model.casenr)
        </th>        
        <th>
            @Html.DisplayNameFor(model => model.diagnosis)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.medication)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.therapy)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.expectedtime)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.timemodify)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.isactive)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Room)
        </th>
        <th>
            @Html.DisplayName("Patient")
        </th>
        <th>
            @Html.DisplayName("Zugeteiltes Personal")
        </th>
       
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.timecreate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.timeclosed)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.casenr)
        </td>        
        <td>
            @Html.DisplayFor(modelItem => item.diagnosis)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.medication)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.therapy)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.expectedtime)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.timemodify)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.isactive)
        </td>
        <td>
            @foreach (var test in item.Room){
            @test.number
            }

        </td>
        <td>
            @foreach (var test in item.Patient)
            {
                @test.surname
            }
        </td>
        <td>
            @foreach (var test in item.User)
            {
                @test.surname
            }
        </td>
        <td>
            @if (item.casenr.Equals("Aufnahme"))
            {
                <input id="GoCreatePatient" type="button" value="Details" class="btn btn-default" style="width:90px"
                       onclick="@("window.location.href='" + @Url.Action("DetailsArzt", "LocalCase",  new {id=item.Id} ) + "'");" />
                        <br />
                        <input id="GoCreatePatient" type="button" value="Beenden" class="btn btn-default" style="width:90px"
                               onclick="@("window.location.href='" + @Url.Action("DeleteArzt", "LocalCase",  new {id=item.Id} )+ "'" );" />
            }
            else
            {        <input id="GoCreatePatient" type="button" value="Bearbeiten" class="btn btn-default"   style="width:90px"
                onclick="@("window.location.href='" + @Url.Action("EditArzt", "LocalCase",  new {id=item.Id} )+ "'");" />
                    <br />
                <input id="GoCreatePatient" type="button" value="Details" class="btn btn-default" style="width:90px"
                       onclick="@("window.location.href='" + @Url.Action("DetailsArzt", "LocalCase",  new {id=item.Id} ) + "'");" />
                <br />
                <input id="GoCreatePatient" type="button" value="Beenden" class="btn btn-default" style="width:90px"
                       onclick="@("window.location.href='" + @Url.Action("DeleteArzt", "LocalCase",  new {id=item.Id} )+ "'" );" />

            }
        
         

        </td>
    </tr>
}

</table>
